# Настройка Telegram бота на Netlify

## Проблема
Ваш сайт использует статический экспорт (`output: 'export'`), что отключает Next.js API роуты. Форма "Оставить заявку" не может отправлять данные через `/api/telegram`.

## Решение
Используем **Netlify Functions** вместо Next.js API роутов.

## Что изменилось

### 1. Создана Netlify Function
- Файл: `netlify/functions/telegram.js`
- Заменяет Next.js API роут `/api/telegram`
- Работает на статических сайтах

### 2. Изменена форма
- Теперь отправляет данные на `/.netlify/functions/telegram`
- Вместо `/api/telegram`

### 3. Обновлена конфигурация
- `netlify.toml`: указана папка functions
- `publish` изменено с `.next` на `out`

## Деплой на Netlify

### Способ 1: Drag & Drop (папка out)
1. Перетащите папку `out` в Netlify
2. Настройте переменные окружения (см. ниже)

### Способ 2: Git-based деплой (рекомендуется)
1. Загрузите код в Git репозиторий
2. Подключите к Netlify
3. Настройте переменные окружения

## Настройка переменных окружения

В настройках сайта на Netlify добавьте:

```
TELEGRAM_BOT_TOKEN=your_bot_token_here
TELEGRAM_CHAT_ID=your_chat_id_here
```

### Как получить данные:

1. **Bot Token**:
   - Напишите @BotFather в Telegram
   - Создайте бота командой `/newbot`
   - Скопируйте токен

2. **Chat ID**:
   - Добавьте бота в группу/чат
   - Отправьте любое сообщение
   - Откройте: `https://api.telegram.org/bot<YOUR_BOT_TOKEN>/getUpdates`
   - Найдите `chat.id` в ответе

## Проверка работы

1. Зайдите на ваш сайт
2. Заполните форму "Оставить заявку"
3. Нажмите "Отправить заявку"
4. Проверьте Telegram - должно прийти сообщение

## Отладка

Если форма не работает:
1. Проверьте консоль браузера (F12)
2. Проверьте логи функций в Netlify
3. Убедитесь что переменные окружения установлены
4. Проверьте что бот добавлен в чат

## Технические детали

- **Netlify Functions** работают как серверные функции
- Они выполняются на серверах Netlify, не в браузере
- Имеют доступ к переменным окружения
- Могут делать HTTP запросы к внешним API (Telegram) 